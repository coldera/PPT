<!DOCTYPE HTML>
<html>
<meta name = "viewport" content = "user-scalable=no,width=device-width" />
<head>
<title>HTML5 Test Demo</title>
<meta charset="utf-8" />
</head>
<div id="console"></div>
<div id="tips" style="position:fixed; right:0; top:0; width:300px; opacity: 0.5;"></div>
<body>
<script>
var _console = document.querySelector('#console');
var _tips = document.querySelector('#tips');

function tip(title, result) {
    var span = document.createElement('span');
    span.innerHTML = '<strong>'+title+'</strong><span>'+result+'</span>';
    _tips.appendChild(span);
}

function assert(title, result) {
    var frag = document.createDocumentFragment();

    if(typeof result == 'object') {
        var p = document.createElement('p');
        p.innerHTML = '<strong>===== '+title+' =====</strong>';
        frag.appendChild(p);
        
        var dl = document.createElement('dl');
        for(var i in result) {
            if(result.hasOwnerProperty(i)) {
                ul.innerHTML += '<dt>'+i+': </dt><dd>'+result[i]+'</dd>';
                if(typeof result[i] == 'object') {
                    assert(title+'::'+i, result[i]);
                }
            }
        }
        frag.appendChild(dl);
        
        p = document.createElement('p');
        p.innerHTML = '<strong>================</strong>';
        frag.appendChild(p);
    }else {
        var p = document.createElement('p');
        p.innerHTML = '<strong>'+title+': </strong><span>'+result+'</span>';
        frag.appendChild(p);
    }
    
    _console.appendChild(frag);
    window.console && console.log(title+' === '+ result);
}

assert('window.DocumentTouch对象', window.DocumentTouch);
assert('支持touchstart事件', 'ontouchstart' in window);
assert('支持ontouchmove事件', 'ontouchmove' in window);
assert('支持ontouchend事件', 'ontouchend' in window);

if('ontouchstart' in window) {
    document.body.addEventListener('touchstart', function() {
        tip('','====start====');
        assert('touch事件参数', arguments);
    }, false);
}

</script>
</body>
</html>