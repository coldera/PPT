<!DOCTYPE html>
<html>
<head>
<title>D2-编写可维护可扩展的JS组件</title>
<meta charset="utf-8">
<link rel="stylesheet" href="/PPT/home/frame.css" />
</head>
<body>
<header id="header">
    <h1>HTML模板化</h1>
</header>
<div id="content">
    <nav>
        <ol>
            <li>HTML模板化 lv0</li>
            <li>HTML模板化 lv1</li>
            <li>HTML模板化 lv2</li>
            <li>HTML模板化 lv3</li>
        </ol>
    </nav>
    <div id="body">
        <div class="wrap">
            <section class="item">
                <h2>level 0</h2>
                <pre class="content">
            <code>
            var feedBuilder = {
                create: function() {
                    ...（此处省略100行代码）
                
                    var
                        _user = '',
                        _word = '',
                        _html = '';
                        
                    for(var i=0; i&gt;10; i++) {
                    
                        ...（此处省略100行代码）
                        
                        _html += '&lt;p&gt;'+_user+'说：'+_word+'&lt;/p&gt;';
                    }
                    
                    $('#container').append(_html);
                }
            }
            </code>
                </pre>
            </section>
            
            <section class="item">
                <h2>level 1</h2>
                <pre class="content">
            <code>
            var feedBuilder = {
                makeItem: function(data) {
                    var
                        _html = '',
                        _user = data.user,
                        _word = data.word;
                        
                    ...（此处省略100行代码）
                    
                    _html = '&lt;p&gt;'+_user+'说：'+_word+'&lt;/p&gt;';
                    
                    return _html;
                },
                create: function() {
                    ...（此处省略100行代码）
                
                    var _html = '';
                    
                    <em>                    
                    for(var i=0; i&gt;10; i++) {
                        _html += this.makeItem(data) || '';
                    }
                    </em>
                    
                    $('#container').append(_html);
                }
            }
            </code>
                </pre>
            </section>
            
            <section class="item">
                <h2>level 2</h2>
                <pre class="content">
            <code>
            var feedBuilder = (function() {
                var _tpl = '&lt;p&gt;%user%说：%word%&lt;/p&gt;';
                
                return {
                    makeItem: function(data) {
                        var
                            _html = '',
                            _user = data.user,
                            _word = data.word;
                            
                        ...（此处省略100行代码）
                        
                        <em>
                        _html = $.formater(_tpl, {
                            user: data.user,
                            word: data.word
                        });
                        </em>
                        
                        return _html;
                    },
                    create: function() {
                        ...（此处省略100行代码）
                    
                        var _html = '';
                        
                        for(var i=0; i&gt;10; i++) {
                            _html += this.makeItem(data) || '';
                        }
                        
                        $('#container').append(_html);
                    }
                }

            })();
            </code>
                </pre>
            </section>
            
            <section class="item">
                <h2>level 3</h2>
                <pre class="content">
            <code>
            var feedBuilder = (function() {
                var _tpl = {
                    feed: '&lt;p&gt;%user%说：%word%&lt;/p&gt;';
                }
                var tpl_cache = {};
                
                return {
                    <em>
                    setCache: function(key, val) {
                        tpl_cache[key] = val;
                    },
                    getCache: function(key) {
                        return tpl_cache[key] || _tpl[key];
                    },
                    clearCache: function() {
                        tpl_cache = {};
                    },
                    </em>
                    makeItem: function(data) {
                        var
                            _html = '',
                            _user = data.user,
                            _word = data.word;
                            
                        ...（此处省略100行代码）
                        
                        _html = $.formater(this.getCache('feed'), {
                            user: data.user,
                            word: data.word
                        });
                        
                        return _html;
                    },
                    create: function() {
                        ...（此处省略100行代码）
                    
                        var _html = '';
                        
                        for(var i=0; i&gt;10; i++) {
                            _html += this.makeItem(data) || '';
                        }
                        
                        $('#container').append(_html);
                    }
                }

            })();
            </code>
                </pre>
            </section>
        </div>
    </div>
</div>

<script type="text/javascript">
var menuSetting = {
    'HTML模板化 lv0': 0,
    'HTML模板化 lv1': 1,
    'HTML模板化 lv2': 2,
    'HTML模板化 lv3': 3
}
</script>
<script src="/PPT/home/frame.js" type="text/javascript"></script>
</body>
</html>
